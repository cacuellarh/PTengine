{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
    <link  href="{% static 'cropperjs/dist/cropper.min.css' %}" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'Css/about_us.css' %}">
    <link rel="stylesheet" href="{% static 'Css/base.css' %}">
    <link rel="stylesheet" href="{% static 'Css/contact.css' %}">
    <link rel="stylesheet" href="{% static 'Css/main.css' %}">
    <link rel="stylesheet" href="{% static 'Css/modal.css' %}">
    <!-- <link rel="stylesheet" href="{% static 'Css/modal_confirm.css' %}"> -->
    <link rel="stylesheet" href="{% static 'Css/privacy_terms.css' %}">
    <link rel="stylesheet" href="{% static 'Css/ScreenView.css' %}">
    <link rel="stylesheet" href="{% static 'Css/Token_confirm.css' %}">
    <link rel="stylesheet" href="{% static 'Css/details.css' %}">
    <link rel="stylesheet" href="{% static 'Css/dashboard.css' %}">

    <title>TrackMyPrice</title>
</head>
<body>
    <header>
        <div class="toggle">
            <label class="menu_toggle">
                <span class="line"></span>
                <span class="line"></span>
                <span class="line"></span>
            </label> 
        </div>
        <div class="logo">
            <a href="{% url 'main_menu' %}"><img src="{% static '/img/logo_white.png' %}" alt="TrackMyPrice"></a>
        </div>
        <nav class="menu_container">
            <ul>
                <li><a href="{% url 'main_menu'%}">Inicio</a></li>
                <li><a href="{% url 'about_us'%}">Nosotros</a></li>
                <li><a href="{% url 'contact'%}">Contacto</a></li>
            </ul>
        </nav>
    </header>
    
    <main>

            <!-- Modal confirmación precio -->
            <div class="modal_window disabled" id="notification_wrapper_id">
                <div class="modal_container">
                    <img src="{% static '/img/icons/icon_price.png' %}" alt="Url">
                    <p>El precio seleccionado es <strong id="price_scan"></strong></p>
                    <p>¿Es el precio correcto?</p>
                    <div class="button_container">
                        <button id="cancel_modalprice">No</button>
                        <button id ="confirm_modalprice">Sí</button>
                    </div>    
                </div>
            </div>

        <div class="modal_window disabled" id="modal_email_confirm"> 
            <div class="modal_container modal_container_medium">
                <img src="{% static '/img/icons/icon_celebration.png' %}" alt="Url">
                <h2>¡Gracias por utilizar Tracker Price!</h2>
                <h3>Confirma tu producto en tu correo electrónico</h3>
                <p class="text">Por favor, revisa tu bandeja de entrada y haz clic en el enlace de confirmación que te hemos enviado a tu correo electrónico. Una vez confirmado, podrás empezar a recibir notificaciones de cambios de precio en el producto que seleccionaste.</p>
                <a href="{% url 'main_menu' %}">Volver al inicio</a>
            </div>   
        </div>
        <div class="modal_window disabled" id="help_us_form"> 
            <div class="modal_container modal_container_medium">
                <img class="close" src="{% static '/img/icons/icon_close.png' %}" alt="">
                <h2 class="form_title">Ayúdanos a mejorar</h2>
                <form id="contact-form" method="post" action="{% url 'error_form' %}" enctype="multipart/form-data">
                    {% csrf_token %}

                    <label for="email_error">*Correo Electrónico:</label>
                    <input type="email" id="email_error" name="email_error" required placeholder="Tu correo electrónico">
            
                    <label for="comment_error">*Comentarios:</label>
                    <textarea id="comment_error" name="comment_error" rows="4" required placeholder="Tus sugerencias o reporte de errores"></textarea>
                    
                    <label for="image_error">Adjunta imagen:</label>
                    <input type="file" id="image_error" name="image_error" accept="image/png, image/jpeg, image/jpg, image/gif">
                    <input type="submit" value="Enviar">
                    <span>Los campos marcados con (*) son obligatorios.</span>
                </form>
            </div>
        </div>
        {% block content %}{% endblock %} 
    </main>
    <footer>
        <!-- Contenido del pie de página con el año actual -->
        <p>&copy; <span id="year"></span> TrackMyPrice</p>
        <div>
            <a href="{% url 'privacy' %}">Política de privacidad</a>
            <a href="{% url 'terms' %}">Términos de uso</a>
            <span id="openModalForm">Ayúdanos a mejorar</span>
        </div>
    </footer>
    <!-- Modulos JS -->
    <script type="module" src="{% static 'JS/Events/Buttons/CaptureBtn/BtnCapture_click.js' %}"></script>
    <!-- archivos JS -->
    <script type="module" src="{% static 'JS/Events/Loader/LoaderOpen.js' %}"></script>
    <script src="{% static 'JS/cropper.js' %}"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.0/FileSaver.min.js"></script>
    <script>
        document.getElementById('year').innerText = new Date().getFullYear();

        document.addEventListener('DOMContentLoaded', function() {
            // Agregar event listener al botón de alternancia de menú
            document.querySelector('.menu_toggle').addEventListener('click', function() {
                this.classList.toggle('active');
                document.querySelector('.menu_container').classList.toggle('menu_container_move');
            });

            // Agregar event listener al documento para cerrar el menú al hacer clic fuera de él
            document.addEventListener('click', function(event) {
                var menuContainer = document.querySelector('.menu_container');
                var menuToggle = document.querySelector('.menu_toggle');

                // Verificar si el clic no ocurrió dentro de .menu_container o .menu_toggle
                if (!menuContainer.contains(event.target) && !menuToggle.contains(event.target)) {
                    // Quitar la clase 'menu_container_move' si está presente
                    menuContainer.classList.remove('menu_container_move');
                    // Quitar la clase 'active' del botón de alternancia de menú si está presente
                    menuToggle.classList.remove('active');
                }
            });
            // Cerrar el formulario de ayúdanos
            document.getElementById('openModalForm').addEventListener('click', function() {
                var helpUsForm = document.getElementById('help_us_form');
                helpUsForm.classList.remove('disabled');
            });

            document.querySelector('.close').addEventListener('click', function() {
                var helpUsForm = document.getElementById('help_us_form');
                helpUsForm.classList.add('disabled');
            });
        });
    </script>
</body>
</html>